(()=>{"use strict";var e={6493:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(885),a=(n(938),n(5920)),i=n(1670),o={getItem:function(e){return i.getItemAsync(e)},setItem:function(e,t){i.setItemAsync(e,t)},removeItem:function(e){i.deleteItemAsync(e)}},l=(0,n(434).createClient)("https://kuhuqdzfhqjvbawuaval.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt1aHVxZHpmaHFqdmJhd3VhdmFsIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTIyNzQwNTksImV4cCI6MjAwNzg1MDA1OX0.dPsdZdMd1oWHcd7oGSHq0TxFCWhVDml8I5Khqx66IbA",{auth:{storage:o,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}}),u=n(5861),s=n(6144),d=n(4819),c=n(9044),f=n(4535),p=n(3594),h=n(456);function m(){var e=(0,a.useState)(""),t=(0,r.default)(e,2),n=t[0],i=t[1],o=(0,a.useState)(""),d=(0,r.default)(o,2),m=d[0],v=d[1],g=(0,a.useState)(!1),b=(0,r.default)(g,2),j=b[0],x=b[1];function S(){return(S=(0,u.default)((function*(){x(!0);var e=(yield l.auth.signInWithPassword({email:n,password:m})).error;e&&s.default.alert(e.message),x(!1)}))).apply(this,arguments)}function w(){return(w=(0,u.default)((function*(){x(!0);var e=(yield l.auth.signUp({email:n,password:m})).error;e&&s.default.alert(e.message),x(!1)}))).apply(this,arguments)}return(0,h.jsxs)(c.default,{style:y.container,children:[(0,h.jsx)(c.default,{style:[y.verticallySpaced,y.titleContainer],children:(0,h.jsx)(f.default,{style:y.title,children:"Taste-Profile"})}),(0,h.jsx)(c.default,{style:[y.verticallySpaced,y.mt20],children:(0,h.jsx)(p.Input,{label:"Email",leftIcon:{type:"font-awesome",name:"envelope"},onChangeText:function(e){return i(e)},value:n,placeholder:"email@address.com",autoCapitalize:"none"})}),(0,h.jsx)(c.default,{style:y.verticallySpaced,children:(0,h.jsx)(p.Input,{label:"Password",leftIcon:{type:"font-awesome",name:"lock"},onChangeText:function(e){return v(e)},value:m,secureTextEntry:!0,placeholder:"Password",autoCapitalize:"none"})}),(0,h.jsx)(c.default,{style:[y.verticallySpaced,y.mt20],children:(0,h.jsx)(p.Button,{title:"Sign in",disabled:j,onPress:function(){return function(){return S.apply(this,arguments)}()}})}),(0,h.jsx)(c.default,{style:y.verticallySpaced,children:(0,h.jsx)(p.Button,{title:"Sign up",disabled:j,onPress:function(){return function(){return w.apply(this,arguments)}()}})})]})}var y=d.default.create({container:{marginTop:0,marginBottom:80,padding:5,backgroundColor:"black"},verticallySpaced:{paddingTop:4,paddingBottom:4,alignSelf:"stretch"},mt20:{marginTop:90,marginBottom:17},titleContainer:{alignItems:"center"},inputText:{color:"white"},inputContainer:{borderBottomWidth:1,borderColor:"white"},title:{fontSize:34,fontWeight:"bold",color:"white",textAlign:"center",marginBottom:10}});function v(e){var t,n=e.session,i=(0,a.useState)(!0),o=(0,r.default)(i,2),d=o[0],m=o[1],y=(0,a.useState)(""),v=(0,r.default)(y,2),b=v[0],j=v[1];function x(){return(x=(0,u.default)((function*(){try{if(m(!0),null==n||!n.user)throw new Error("No user on the session!");var e=yield l.from("profiles").select("username").eq("id",null==n?void 0:n.user.id).single(),t=e.data,r=e.error,a=e.status;if(r&&406!==a)throw r;t&&j(t.username)}catch(r){r instanceof Error&&s.default.alert(r.message)}finally{m(!1)}}))).apply(this,arguments)}function S(){return S=(0,u.default)((function*(e){var t=e.username;try{if(m(!0),null==n||!n.user)throw new Error("No user on the session!");var r={id:null==n?void 0:n.user.id,username:t},a=(yield l.from("profiles").upsert(r)).error;if(a)throw a}catch(a){a instanceof Error&&s.default.alert(a.message)}finally{m(!1)}})),S.apply(this,arguments)}return(0,a.useEffect)((function(){n&&function(){x.apply(this,arguments)}()}),[n]),(0,h.jsxs)(c.default,{style:g.container,children:[(0,h.jsx)(c.default,{style:[g.verticallySpaced,g.titleContainer],children:(0,h.jsx)(f.default,{style:g.title,children:"Account"})}),(0,h.jsx)(c.default,{style:[g.verticallySpaced,g.mt20],children:(0,h.jsx)(p.Input,{label:"Email",value:null==n||null==(t=n.user)?void 0:t.email,disabled:!0,inputStyle:g.inputText,inputContainerStyle:g.inputContainer})}),(0,h.jsx)(c.default,{style:g.verticallySpaced,children:(0,h.jsx)(p.Input,{label:"Username",value:b||"",onChangeText:function(e){return j(e)},inputStyle:g.inputText,inputContainerStyle:g.inputContainer})}),(0,h.jsx)(c.default,{style:[g.verticallySpaced,g.mt20],children:(0,h.jsx)(p.Button,{title:d?"Loading ...":"Update",onPress:function(){return function(e){return S.apply(this,arguments)}({username:b})},disabled:d})}),(0,h.jsx)(c.default,{style:g.verticallySpaced,children:(0,h.jsx)(p.Button,{title:"Sign Out",onPress:function(){return l.auth.signOut()}})})]})}var g=d.default.create({container:{marginTop:100,marginBottom:80,padding:10,backgroundColor:"black"},verticallySpaced:{paddingTop:4,paddingBottom:4,alignSelf:"stretch"},mt20:{marginTop:20},title:{fontSize:34,fontWeight:"bold",color:"white",textAlign:"center",marginBottom:10},titleContainer:{alignItems:"center"},inputText:{color:"white"},inputContainer:{borderBottomWidth:1,borderColor:"white"}});function b(){var e=(0,a.useState)(null),t=(0,r.default)(e,2),n=t[0],i=t[1];return(0,a.useEffect)((function(){l.auth.getSession().then((function(e){var t=e.data.session;i(t)})),l.auth.onAuthStateChange((function(e,t){i(t)}))}),[]),(0,h.jsx)(c.default,{children:n&&n.user?(0,h.jsx)(v,{session:n},n.user.id):(0,h.jsx)(m,{})})}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{var e=[];n.O=(t,r,a,i)=>{if(!r){var o=1/0;for(d=0;d<e.length;d++){for(var[r,a,i]=e[d],l=!0,u=0;u<r.length;u++)(!1&i||o>=i)&&Object.keys(n.O).every((e=>n.O[e](r[u])))?r.splice(u--,1):(l=!1,i<o&&(o=i));if(l){e.splice(d--,1);var s=a();void 0!==s&&(t=s)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,a,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".7bf96846.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="web:";n.l=(r,a,i,o)=>{if(e[r])e[r].push(a);else{var l,u;if(void 0!==i)for(var s=document.getElementsByTagName("script"),d=0;d<s.length;d++){var c=s[d];if(c.getAttribute("src")==r||c.getAttribute("data-webpack")==t+i){l=c;break}}l||(u=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+i),l.src=r),e[r]=[a];var f=(t,n)=>{l.onerror=l.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((e=>e(n))),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=f.bind(null,l.onerror),l.onload=f.bind(null,l.onload),u&&document.head.appendChild(l)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={179:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=i);var o=n.p+n.u(t),l=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",l.name="ChunkLoadError",l.type=i,l.request=o,a[1](l)}}),"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,r)=>{var a,i,[o,l,u]=r,s=0;if(o.some((t=>0!==e[t]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(u)var d=u(n)}for(t&&t(r);s<o.length;s++)i=o[s],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[344],(()=>n(4537)));r=n.O(r)})();
//# sourceMappingURL=main.36d6d7d9.js.map